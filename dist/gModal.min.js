/*
 MIT

 @author Javier Sanahuja <bannss1@gmail.com>
 @contributor csanahuja <csanahuja10@gmail.com>

 https://github.com/jsanahuja/gModal
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,c){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(b)for(var e in b)$jscomp.owns(b,e)&&(a[e]=b[e])}return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,b={next:function(){if(d<a.length){var e=d++;return{value:c(e,a[e]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(a,c){"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?module.exports=c():a.gModal=c()})(this,function(){function a(a){return a.className.split(" ").filter(function(a){return 0<a.length})}function c(b,c){if(0<=a(b).indexOf(c)){var f=a(b);f.splice(f.indexOf(c),1);b.className=f.join(" ")}}var d={title:"",body:"",buttons:[],close:{closable:!0,location:"in",bindKey:27,callback:function(a){a.hide()}},onShow:function(a){},onHide:function(a){a.destroy()},onCreate:function(a){},
onDestroy:function(a){}};return function(b,e){this.id=e||Math.random().toString(36).substr(2);this.options=Object.assign({},d,b);"undefined"!==typeof b&&"undefined"!==typeof b.close&&(this.options.close=Object.assign({},d.close,b.close));this.display=!1;this.bindings={};this.bind=function(a,c){"undefined"!==typeof this.bindings[a]&&console.warn("gModal: Tried to bind the key "+a+" twice. Overriding...");this.bindings[a]=c};this.addKeyListener=function(){window.currentModal=this;window.addEventListener("keydown",
this.onKeyPress,!1)};this.removeKeyListener=function(){window.currentModal=void 0;window.removeEventListener("keydown",this.onKeyPress,!1)};this.onKeyPress=function(a){if("undefined"!==typeof window.currentModal&&window.currentModal instanceof gModal){var c=window.currentModal;if(c.display)for(var b=a.keyCode||a.which,d=Object.keys(c.bindings),f=0;f<d.length;f++)if(parseInt(d[f])===b)return a.preventDefault(),a.stopPropagation(),c.bindings[d[f]](c),!1}};this.show=function(){if("undefined"!==typeof this.wrapper){var c=
this.wrapper;0<=a(c).indexOf("gmodal-active")||(c.className+=" gmodal-active");c=document.body;0<=a(c).indexOf("gmodal-active")||(c.className+=" gmodal-active");this.display=!0;this.options.onShow(this)}};this.hide=function(){"undefined"!==typeof this.wrapper&&(c(this.wrapper,"gmodal-active"),c(document.body,"gmodal-active"),this.display=!1,this.options.onHide(this))};this.create=function(){if("undefined"===typeof this.wrapper){this.wrapper=document.createElement("div");this.wrapper.className="gmodal-wrapper";
this.wrapper.id="gmodal-wrapper-"+this.id;var a=document.createElement("div");a.className="gmodal-backdrop";var c=document.createElement("div");c.className="gmodal-dialog";if("undefined"!==typeof this.options.close.closable&&this.options.close.closable){var b=document.createElement("a");b.setAttribute("href","javascript:void(0);");"undefined"===typeof this.options.close.callback&&(this.options.close.callback=function(){});b.modal=this;b.callback=this.options.close.callback;b.onclick=function(a){a.preventDefault();
a.stopPropagation();this.callback(this.modal);return!1};"number"===typeof this.options.close.bindKey&&this.bind(this.options.close.bindKey,this.options.close.callback);"undefined"===typeof this.options.close.location||"in"==this.options.close.location?(b.className="gmodal-close-in",c.appendChild(b)):(b.className="gmodal-close-out",a.appendChild(b))}if(this.options.title instanceof Element||"string"===typeof this.options.title&&""!=this.options.title)b=document.createElement("div"),b.className="gmodal-title",
this.options.title instanceof Element?b.appendChild(this.options.title):b.innerHTML=this.options.title,c.appendChild(b);if(this.options.body instanceof Element||"string"===typeof this.options.body&&""!=this.options.body)b=document.createElement("div"),b.className="gmodal-body",this.options.body instanceof Element?b.appendChild(this.options.body):b.innerHTML=this.options.body,c.appendChild(b);if(0<this.options.buttons.length){b=document.createElement("div");b.className="gmodal-buttons";for(var d=0;d<
this.options.buttons.length;d++){var e=document.createElement("a");e.setAttribute("href","javascript:void(0);");e.className="gmodal-button";"undefined"!==typeof this.options.buttons[d].classes&&(e.className+=" "+this.options.buttons[d].classes);"undefined"!==typeof this.options.buttons[d].content&&(e.innerHTML=this.options.buttons[d].content);"undefined"===typeof this.options.buttons[d].callback&&(this.options.buttons[d].callback=function(a){a.hide()});e.modal=this;e.callback=this.options.buttons[d].callback;
e.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"number"===typeof this.options.buttons[d].bindKey&&this.bind(this.options.buttons[d].bindKey,this.options.buttons[d].callback);b.appendChild(e)}c.appendChild(b)}this.wrapper.appendChild(a);this.wrapper.appendChild(c);document.body.appendChild(this.wrapper);this.addKeyListener();this.options.onCreate(this)}};this.destroy=function(){"undefined"!==typeof this.wrapper&&(document.body.removeChild(this.wrapper),
this.wrapper=void 0,this.removeKeyListener(),this.options.onDestroy(this))};this.create()}});