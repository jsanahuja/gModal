/*
 MIT

 @author Javier Sanahuja <bannss1@gmail.com>

 https://github.com/jsanahuja/gModal
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,b){for(var d=1;d<arguments.length;d++){var c=arguments[d];if(c)for(var e in c)$jscomp.owns(c,e)&&(a[e]=c[e])}return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,c={next:function(){if(d<a.length){var e=d++;return{value:b(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var gModal=function(){function a(a){return a.className.split(" ").filter(function(a){return 0<a.length})}function b(e,b){if(0<=a(e).indexOf(b)){var f=a(e);f.splice(f.indexOf(b),1);e.className=f.join(" ")}}var d={title:"Default gModal title",body:"This is the default body. It can include <strong>html</strong>. You can also leave it empty so we will hide it :).",buttons:[],close:{closable:!0,location:"in",bindKey:27,callback:function(a){a.hide()}},onShow:function(a){},onHide:function(a){a.destroy()},
onCreate:function(a){},onDestroy:function(a){}};"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var f=arguments[b];if(null!=f)for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(a[c]=f[c])}return a});var c=function(e,g){this.id=g||Math.random().toString(36).substr(2);this.options=Object.assign({},d,e);"undefined"!==typeof e&&"undefined"!==typeof e.close&&
(this.options.close=Object.assign({},d.close,e.close));this.display=!1;this.bindings={};this.bind=function(a,b){"undefined"!==typeof this.bindings[a]&&console.warn("gModal: Tried to bind the key "+a+" twice. Overriding...");this.bindings[a]=b};this.addKeyListener=function(){window.currentModal=this;window.addEventListener("keydown",this.onKeyPress,!1)};this.removeKeyListener=function(){window.currentModal=void 0;window.removeEventListener("keydown",this.onKeyPress,!1)};this.onKeyPress=function(a){if("undefined"!==
typeof window.currentModal&&window.currentModal instanceof c){var b=window.currentModal;if(b.display)for(var h=a.keyCode||a.which,f=Object.keys(b.bindings),d=0;d<f.length;d++)if(f[d]===h)return a.preventDefault(),a.stopPropagation(),b.bindings[f[d]](b),!1}};this.show=function(){if("undefined"!==typeof this.wrapper){var b=this.wrapper;0<=a(b).indexOf("gmodal-active")||(b.className+=" gmodal-active");b=document.body;0<=a(b).indexOf("gmodal-active")||(b.className+=" gmodal-active");this.display=!0;this.options.onShow(this)}};
this.hide=function(){"undefined"!==typeof this.wrapper&&(b(this.wrapper,"gmodal-active"),b(document.body,"gmodal-active"),this.display=!1,this.options.onHide(this))};this.create=function(){if("undefined"===typeof this.wrapper){this.wrapper=document.createElement("div");this.wrapper.className="gmodal-wrapper";this.wrapper.id="gmodal-wrapper-"+this.id;var a=document.createElement("div");a.className="gmodal-backdrop";var b=document.createElement("div");b.className="gmodal-dialog";if("undefined"!==typeof this.options.close.closable&&
this.options.close.closable){var c=document.createElement("a");c.setAttribute("href","javascript:void(0);");"undefined"===typeof this.options.close.callback&&(this.options.close.callback=function(){});c.modal=this;c.callback=this.options.close.callback;c.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"number"===typeof this.options.close.bindKey&&this.bind(this.options.close.bindKey,this.options.close.callback);"undefined"===typeof this.options.close.location||
"in"==this.options.close.location?(c.className="gmodal-close-in",b.appendChild(c)):(c.className="gmodal-close-out",a.appendChild(c))}""!=this.options.title&&(c=document.createElement("div"),c.className="gmodal-title",c.innerHTML=this.options.title,b.appendChild(c));""!=this.options.body&&(c=document.createElement("div"),c.className="gmodal-body",c.innerHTML=this.options.body,b.appendChild(c));if(0<this.options.buttons.length){c=document.createElement("div");c.className="gmodal-buttons";for(var d=
0;d<this.options.buttons.length;d++){var e=document.createElement("a");e.setAttribute("href","javascript:void(0);");e.className="gmodal-button";"undefined"!==typeof this.options.buttons[d].classes&&(e.className+=" "+this.options.buttons[d].classes);"undefined"!==typeof this.options.buttons[d].content&&(e.innerHTML=this.options.buttons[d].content);"undefined"===typeof this.options.buttons[d].callback&&(this.options.buttons[d].callback=function(a){a.hide()});e.modal=this;e.callback=this.options.buttons[d].callback;
e.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"number"===typeof this.options.buttons[d].bindKey&&this.bind(this.options.buttons[d].bindKey,this.options.buttons[d].callback);c.appendChild(e)}b.appendChild(c)}this.wrapper.appendChild(a);this.wrapper.appendChild(b);document.body.appendChild(this.wrapper);this.addKeyListener();this.options.onCreate(this)}};this.destroy=function(){"undefined"!==typeof this.wrapper&&(document.body.removeChild(this.wrapper),
this.wrapper=void 0,this.removeKeyListener(),this.options.onDestroy(this))};this.create();return this};return c}();